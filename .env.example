# Required Environment Variables for LLM-Powered Papercups

# Core Database Configuration
# Local Development (Railway Postgres example)
DATABASE_URL=ecto://postgres:password@host.proxy.rlwy.net:port/railway?ssl=true
SECRET_KEY_BASE=your_secret_key_base_here_must_be_at_least_64_bytes_long
MIX_ENV=dev
REQUIRE_DB_SSL=true

# Application URLs
BACKEND_URL=http://localhost:4000
REACT_APP_URL=http://localhost:4000
# For production, set REACT_APP_URL=app.netia.ai

# Required - LLM Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Optional - LLM Configuration
# Recommended: gpt-4o-mini (75% cheaper than gpt-3.5-turbo, more accurate)
# See docs/llm-cost-analysis.md for detailed comparison
LLM_MODEL=gpt-4o-mini
LLM_MAX_TOKENS=500
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=30000  # Timeout in milliseconds (default: 30 seconds)
LLM_MAX_RETRIES=2  # Number of retry attempts on timeout/errors (default: 2)

# Optional - Email Services (choose one)
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
FROM_ADDRESS=noreply@yourdomain.com

# OR Mailgun Configuration
MAILGUN_API_KEY=your_mailgun_api_key

# Optional - Stripe Billing
PAPERCUPS_STRIPE_SECRET=sk_test_your_stripe_secret_key
REACT_APP_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# Notes:
# - STRIPE_WEBHOOK_SECRET is used to verify signatures for POST /api/stripe/webhooks
# - Ensure Checkout Session is created with metadata.netia_account_id so webhooks
#   can map Stripe events back to your account

# Optional - Analytics & Monitoring
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
REACT_APP_SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
REACT_APP_LOGROCKET_ID=your_logrocket_id
REACT_APP_POSTHOG_TOKEN=your_posthog_token
REACT_APP_GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Optional - File Uploads (if needed)
REACT_APP_FILE_UPLOADS_ENABLED=1

# Development/Production Settings
PORT=4000
REACT_APP_PORT=3000

# Temporary: Node/Webpack compatibility workaround (until dependencies are upgraded)
NODE_OPTIONS=--openssl-legacy-provider
